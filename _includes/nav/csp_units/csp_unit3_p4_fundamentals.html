<!-- Smooth Modern Navigation System -->
<div class="p4-smooth-nav">
    <div class="p4-nav-header">
        <h2 class="p4-nav-title">Fall 2024 - P4</h2>
        <div class="p4-nav-subtitle">Big Idea 3: Programming Fundamentals</div>
    </div>
    
    <nav class="p4-nav-container">
        <div class="p4-nav-main">
            <a href="{{site.baseurl}}/csp/big-idea/p4/fundamentals" class="p4-nav-item p4-nav-main-item">
                <span class="p4-nav-icon">ðŸŽ¯</span>
                <span class="p4-nav-text">Big Idea 3</span>
                <span class="p4-nav-subtext">Overview</span>
            </a>
        </div>
        
        <div class="p4-nav-sections">
            <div class="p4-nav-section" data-section="1">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">1</span>
                    <span class="p4-nav-section-title">Variables</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-1-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">1.1</span>
                        <span class="p4-nav-lesson-title">Python Variables</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-1-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">1.2</span>
                        <span class="p4-nav-lesson-title">Python Data Types</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-1-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">1.3</span>
                        <span class="p4-nav-lesson-title">JavaScript Variables</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-1-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">1.4</span>
                        <span class="p4-nav-lesson-title">JavaScript Data Types</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="2">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">2</span>
                    <span class="p4-nav-section-title">Data Abstraction</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.1</span>
                        <span class="p4-nav-lesson-title">Integers</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.2</span>
                        <span class="p4-nav-lesson-title">Float</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.3</span>
                        <span class="p4-nav-lesson-title">Strings</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.4</span>
                        <span class="p4-nav-lesson-title">Lists</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-5" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.5</span>
                        <span class="p4-nav-lesson-title">Tuple</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-6" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.6</span>
                        <span class="p4-nav-lesson-title">Dictionaries</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-7" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.7</span>
                        <span class="p4-nav-lesson-title">Sets</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-8" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.8</span>
                        <span class="p4-nav-lesson-title">Booleans</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-2-9" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">2.9</span>
                        <span class="p4-nav-lesson-title">None and null</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="3">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">3</span>
                    <span class="p4-nav-section-title">Mathematical Expressions</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-3-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">3.1</span>
                        <span class="p4-nav-lesson-title">Mathematical Expressions Python</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-3-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">3.2</span>
                        <span class="p4-nav-lesson-title">Mathematical Expressions JavaScript</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-3-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">3.3</span>
                        <span class="p4-nav-lesson-title">Python Hacks</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-3-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">3.4</span>
                        <span class="p4-nav-lesson-title">JavaScript Hacks</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="4">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">4</span>
                    <span class="p4-nav-section-title">Strings</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-4-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">4.1</span>
                        <span class="p4-nav-lesson-title">Strings</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-4-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">4.2</span>
                        <span class="p4-nav-lesson-title">Strings and Functions</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-4-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">4.3</span>
                        <span class="p4-nav-lesson-title">JavaScript Strings</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-4-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">4.4</span>
                        <span class="p4-nav-lesson-title">Strings Hacks</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="5">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">5</span>
                    <span class="p4-nav-section-title">Booleans</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-5-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">5.1</span>
                        <span class="p4-nav-lesson-title">Booleans Python</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-5-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">5.2</span>
                        <span class="p4-nav-lesson-title">Booleans JavaScript</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-5-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">5.3</span>
                        <span class="p4-nav-lesson-title">Python Booleans Hacks</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-5-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">5.4</span>
                        <span class="p4-nav-lesson-title">JavaScript Booleans Hacks</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="6">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">6</span>
                    <span class="p4-nav-section-title">Conditionals</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-6-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">6.1</span>
                        <span class="p4-nav-lesson-title">Conditionals Python Lesson</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-6-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">6.2</span>
                        <span class="p4-nav-lesson-title">Conditionals JavaScript Lesson</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-6-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">6.3</span>
                        <span class="p4-nav-lesson-title">Conditionals Python Hacks</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-6-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">6.4</span>
                        <span class="p4-nav-lesson-title">Conditionals JavaScript Hacks</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="7">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">7</span>
                    <span class="p4-nav-section-title">Nested Conditionals</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-7-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">7.1</span>
                        <span class="p4-nav-lesson-title">Nested Conditionals Python Lesson</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-7-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">7.2</span>
                        <span class="p4-nav-lesson-title">Nested Conditionals JavaScript Lesson</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-7-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">7.3</span>
                        <span class="p4-nav-lesson-title">Nested Conditionals Python Hacks</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-7-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">7.4</span>
                        <span class="p4-nav-lesson-title">Nested Conditionals JavaScript Hacks</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="8">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">8</span>
                    <span class="p4-nav-section-title">Iteration</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-8-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">8.1</span>
                        <span class="p4-nav-lesson-title">Iteration Basics</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-8-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">8.2</span>
                        <span class="p4-nav-lesson-title">Advanced Iteration</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-8-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">8.3</span>
                        <span class="p4-nav-lesson-title">Iteration Patterns</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-8-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">8.4</span>
                        <span class="p4-nav-lesson-title">Iteration Hacks</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-8-5" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">8.5</span>
                        <span class="p4-nav-lesson-title">Iteration Mastery</span>
                    </a>
                </div>
            </div>
            
            <div class="p4-nav-section" data-section="10">
                <button class="p4-nav-section-toggle">
                    <span class="p4-nav-section-number">10</span>
                    <span class="p4-nav-section-title">Lists</span>
                    <svg class="p4-nav-arrow" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
                <div class="p4-nav-lessons">
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-10A-1" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">10.1</span>
                        <span class="p4-nav-lesson-title">Lists Introduction</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-10A-2" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">10.2</span>
                        <span class="p4-nav-lesson-title">List Operations</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-10A-3" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">10.3</span>
                        <span class="p4-nav-lesson-title">List Methods</span>
                    </a>
                    <a href="{{site.baseurl}}/csp/big-idea/p4/3-10A-4" class="p4-nav-lesson">
                        <span class="p4-nav-lesson-number">10.4</span>
                        <span class="p4-nav-lesson-title">List Mastery</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>
</div>

<style>
/* Smooth Modern Navigation Styles */
.p4-smooth-nav {
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.98));
    backdrop-filter: blur(20px);
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 16px;
    padding: 24px;
    margin-bottom: 32px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 20px rgba(99, 102, 241, 0.3);
    position: relative;
    overflow: hidden;
}

.p4-smooth-nav::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, #6366f1, #818cf8, #06b6d4);
    opacity: 0.8;
}

.p4-nav-header {
    text-align: center;
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid rgba(148, 163, 184, 0.2);
}

.p4-nav-title {
    margin: 0 0 8px 0;
    font-size: 2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #6366f1, #818cf8);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.p4-nav-subtitle {
    color: #cbd5e1;
    font-size: 1.125rem;
    font-weight: 500;
    opacity: 0.9;
}

.p4-nav-container {
    display: grid;
    gap: 24px;
}

.p4-nav-main {
    display: flex;
    justify-content: center;
}

.p4-nav-main-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 20px 32px;
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(129, 140, 248, 0.1));
    border: 1px solid rgba(99, 102, 241, 0.3);
    text-decoration: none;
    color: inherit;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.p4-nav-main-item::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(129, 140, 248, 0.1));
    opacity: 0;
    transition: opacity 0.3s ease;
}

.p4-nav-main-item:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);
    border-color: rgba(99, 102, 241, 0.5);
}

.p4-nav-main-item:hover::before {
    opacity: 1;
}

.p4-nav-icon {
    font-size: 2rem;
    filter: drop-shadow(0 4px 8px rgba(99, 102, 241, 0.3));
}

.p4-nav-text {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f8fafc;
    position: relative;
    z-index: 1;
}

.p4-nav-subtext {
    font-size: 0.875rem;
    color: #cbd5e1;
    position: relative;
    z-index: 1;
}

.p4-nav-sections {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 16px;
}

.p4-nav-section {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.p4-nav-section:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    border-color: rgba(99, 102, 241, 0.4);
}

.p4-nav-section-toggle {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 20px;
    background: transparent;
    border: none;
    color: #f8fafc;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: left;
}

.p4-nav-section-toggle:hover {
    background: rgba(99, 102, 241, 0.1);
}

.p4-nav-section-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #6366f1, #818cf8);
    color: #ffffff;
    font-weight: 700;
    font-size: 1.125rem;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.p4-nav-section-title {
    flex: 1;
    font-size: 1.125rem;
    font-weight: 600;
    color: #f8fafc;
}

.p4-nav-arrow {
    width: 20px;
    height: 20px;
    color: #cbd5e1;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.p4-nav-section.is-expanded .p4-nav-arrow {
    transform: rotate(180deg);
}

.p4-nav-lessons {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    background: rgba(0, 0, 0, 0.1);
}

.p4-nav-section.is-expanded .p4-nav-lessons {
    max-height: 1000px;
}

.p4-nav-lesson {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 20px;
    text-decoration: none;
    color: #cbd5e1;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    border-left: 3px solid transparent;
}

.p4-nav-lesson:hover {
    background: rgba(99, 102, 241, 0.1);
    color: #f8fafc;
    border-left-color: #6366f1;
    transform: translateX(4px);
}

.p4-nav-lesson-number {
    font-size: 0.875rem;
    font-weight: 600;
    color: #94a3b8;
    min-width: 40px;
}

.p4-nav-lesson-title {
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.4;
}

/* Smooth animations for section toggles */
.p4-nav-section {
    will-change: transform, box-shadow;
}

.p4-nav-lesson {
    will-change: transform, background-color, color;
}

/* Responsive design for laptop screens */
@media (max-width: 1200px) {
    .p4-nav-sections {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}

@media (max-width: 768px) {
    .p4-nav-sections {
        grid-template-columns: 1fr;
    }
    
    .p4-nav-main-item {
        padding: 16px 24px;
    }
    
    .p4-nav-title {
        font-size: 1.75rem;
    }
}
</style>

<script>
// Smooth navigation interactions
document.addEventListener('DOMContentLoaded', function() {
    const sections = document.querySelectorAll('.p4-nav-section');
    
    sections.forEach(section => {
        const toggle = section.querySelector('.p4-nav-section-toggle');
        
        toggle.addEventListener('click', function() {
            const isExpanded = section.classList.contains('is-expanded');
            
            // Close all other sections
            sections.forEach(otherSection => {
                if (otherSection !== section) {
                    otherSection.classList.remove('is-expanded');
                }
            });
            
            // Toggle current section
            if (isExpanded) {
                section.classList.remove('is-expanded');
            } else {
                section.classList.add('is-expanded');
            }
        });
    });
    
    // Smooth scroll for lesson links
    const lessonLinks = document.querySelectorAll('.p4-nav-lesson');
    lessonLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            // Add a subtle animation feedback
            this.style.transform = 'translateX(8px) scale(1.02)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
        });
    });
});
</script>